#ifndef TOKENS_HPP
#define TOKENS_HPP

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

#include "tree/node-and-token-types.hpp"
#include "read-tree/file-read/file-read.hpp"

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

struct FilePlace
{
    size_t line;
    size_t placeInLine;
};

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

union TokenData
{
    FunctionAttribute attribute;
    DFunction         function;
    Condition         condition;
    Separator         separator;
    Operation         operation;
    Bracket           bracket;
    Number            number;
    Cycle             cycle;
    Type              type;
    Name              name;
    EndSymbol         end;
};

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

enum TokenType
{
    TokenType_t          ,
    TokenNumber_t        ,
    TokenName_t          ,
    TokenOperation_t     ,
    TokenBracket_t       ,
    TokenSeparator_t     ,
    TokenEndSymbol_t     ,
    TokenCycle_t         ,
    TokenCondition_t     ,
    TokenFuncAttr_t      ,
    TokenDefaultFunc_t   ,
    TokenStringLiteral_t ,
};

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

struct Token_t
{
    TokenType type;
    TokenData data;
    FilePlace place;
};

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

struct TokensArr
{
    Token_t* arr;
    size_t   size;
};

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

TokensArr ReadInputBuffer (const InputData* InputData);
void      TokenDtor       (TokensArr* tokenArr);

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

#endif //TOKENS_HPP