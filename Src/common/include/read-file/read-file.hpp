#ifndef FILEREAD_HPP
#define FILEREAD_HPP

//-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

#include <stdio.h>
#include "lib/lib.hpp"

//-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

struct Word
{
    const char* word;
    size_t      len;
    size_t      line;
    size_t      inLine;
};

//-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

#ifdef WORD_ARRAY_POINTER
    #define ON_WORD_POINTER_POINTER(...) __VA_ARGS__
#else
    #define ON_WORD_POINTER_POINTER(...)
#endif


#ifdef WORD_SAVE_INPUT_STREAM
    #define ON_WORD_SAVE_INPUT_STREAM(...) __VA_ARGS__
#else
    #define ON_WORD_SAVE_INPUT_STREAM(...)
#endif

struct WordArray
{
    Word*  words;
    size_t size;

    ON_WORD_POINTER_POINTER
    (
    size_t pointer;
    )

    ON_WORD_SAVE_INPUT_STREAM
    (
    const char* input_stream;
    )
};

//-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

WordArray ReadBufferFromFile(const char* file     );
void      BufferDtor        (WordArray*  wordArray);

int       WordToInt         (const Word* word     );
double    WordToDouble      (const Word* word     );

//-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

#endif // FILEREAD_HPP
