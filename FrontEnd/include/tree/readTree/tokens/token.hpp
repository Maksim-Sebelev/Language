
#ifndef TOKEN_HPP
#define TOKEN_HPP

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

#include "tree/tree.hpp"
#include "tree/readTree/readTreeGlobalnclude.hpp"
#include "tree/NodesAndTokensTypes.hpp"

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

struct FilePlace
{
    size_t line;
    size_t placeInLine;
};

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

union TokenData
{
    Condition condition;
    Separator separator;
    Operation operation;
    Bracket   bracket;
    Number    number;
    Type      type;
    Name      name;
    EndSymbol end;
};

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

enum TokenType
{
    TokenType_t      ,
    TokenNumber_t    ,
    TokenName_t      ,
    TokenOperation_t ,
    TokenFunction_t  ,
    TokenBracket_t   ,
    TokenSeparator_t ,
    TokenEndSymbol_t ,
    TokenCycle_t     ,
    TokenCondition_t ,
};

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

struct Token_t
{
    TokenType type;
    TokenData data;
    FilePlace place;
};

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Token_t* ReadInputStr (const InputData* InputData, size_t inputLen, size_t* tokenArrSize);
void     TokenDtor    (Token_t* tokenArr);

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

#endif