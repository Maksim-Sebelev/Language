#ifndef TOKEN_HPP
#define TOKEN_HPP

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

#include "tree/tree.hpp"
#include "tree/readTree/readTreeGlobalnclude.hpp"

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

struct FilePlace
{
    size_t line;
    size_t placeInLine;
};

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

enum Bracket
{
    left  = '(',
    right = ')'
};

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

enum EndSymbol
{
    end  = '$',
    endd = '\0',
};

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

enum Separator
{
    comma     = ',',
    point     = '.',
    colon     = ':',
    semicolon = ';',
};

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

union TokenData
{
    Separator separator;
    Operation operation;
    DFunction function;
    Bracket   bracket;
    Number    number;
    Name      name;
    EndSymbol end;
};

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

enum TokenType
{
    TokenNumber_t,
    TokenName_t,
    TokenOperation_t,
    TokenFunction_t,
    TokenBracket_t,
    TokenSeparator_t,
    TokenEndSymbol_t,
};

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

struct Token_t
{
    TokenType type;
    TokenData data;
    FilePlace place;
};

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Token_t* ReadInputStr (const InputData* InputData, size_t inputLen, size_t* tokenArrSize);
void     TokenDtor    (Token_t* tokenArr);

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

#endif