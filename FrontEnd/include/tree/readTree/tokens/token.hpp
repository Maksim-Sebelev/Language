#ifndef TOKEN_HPP
#define TOKEN_HPP

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

#include "tree/tree.hpp"
#include "tree/readTree/readTreeGlobalnclude.hpp"

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

struct FilePlace
{
    size_t line;
    size_t placeInLine;
};

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

enum Bracket : char
{
    left  = '(',
    right = ')'
};

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

enum EndSymbol : char
{
    end  = '$',
    endd = '\0',
};

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

enum Separator : char
{
    comma     = ',',
    point     = '.',
    colon     = ':',
    semicolon = ';',
};

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

union TokenData
{
    Separator separator;
    Operation operation;
    DFunction function;
    Bracket   bracket;
    Number    number;
    Type      type;
    Name      name;
    EndSymbol end;
};

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

enum TokenType
{
    TokenType_t      ,
    TokenNumber_t    ,
    TokenName_t      ,
    TokenOperation_t ,
    TokenFunction_t  ,
    TokenBracket_t   ,
    TokenSeparator_t ,
    TokenEndSymbol_t ,
};

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

struct Token_t
{
    TokenType type;
    TokenData data;
    FilePlace place;
};

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Token_t* ReadInputStr (const InputData* InputData, size_t inputLen, size_t* tokenArrSize);
void     TokenDtor    (Token_t* tokenArr);

//------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

#endif